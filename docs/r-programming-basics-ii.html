<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석</title>
  <meta name="description" content="UST lecture web site" />
  <meta name="generator" content="bookdown 0.16.5 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="UST lecture web site" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 R programming basics II | R 프로그래밍과 데이터 분석" />
  
  <meta name="twitter:description" content="UST lecture web site" />
  

<meta name="author" content="한국생명공학연구원 김하성" />


<meta name="date" content="2020-06-30" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-programming-basics-i.html"/>
<link rel="next" href="r-graphics-basics.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">[2020 UST Lecture] R programming</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction 강의 개요</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#goal-강의-목표"><i class="fa fa-check"></i><b>1.1</b> Goal 강의 목표</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#this-course"><i class="fa fa-check"></i><b>1.2</b> This course</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#tips"><i class="fa fa-check"></i><b>1.3</b> Tips</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#references-books-참고-교제"><i class="fa fa-check"></i><b>1.4</b> References books 참고 교제</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#references-참고-자료"><i class="fa fa-check"></i><b>1.5</b> References 참고 자료</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#evaluation-평가-세부-항목"><i class="fa fa-check"></i><b>1.6</b> Evaluation 평가 세부 항목</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#schedule-강의-계획"><i class="fa fa-check"></i><b>1.7</b> Schedule 강의 계획</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#r-lecture-youtube-link"><i class="fa fa-check"></i><b>1.8</b> R Lecture Youtube Link</a>
<ul>
<li class="chapter" data-level="1.8.1" data-path="index.html"><a href="index.html#lecture-chapter-3"><i class="fa fa-check"></i><b>1.8.1</b> Lecture Chapter 3</a></li>
<li class="chapter" data-level="1.8.2" data-path="index.html"><a href="index.html#lecture-chapter-4"><i class="fa fa-check"></i><b>1.8.2</b> Lecture Chapter 4</a></li>
<li class="chapter" data-level="1.8.3" data-path="index.html"><a href="index.html#lecture-chapter-5"><i class="fa fa-check"></i><b>1.8.3</b> Lecture Chapter 5</a></li>
<li class="chapter" data-level="1.8.4" data-path="index.html"><a href="index.html#lecture-chapter-6"><i class="fa fa-check"></i><b>1.8.4</b> Lecture Chapter 6</a></li>
<li class="chapter" data-level="1.8.5" data-path="index.html"><a href="index.html#lecture-chapter-7"><i class="fa fa-check"></i><b>1.8.5</b> Lecture Chapter 7</a></li>
<li class="chapter" data-level="1.8.6" data-path="index.html"><a href="index.html#lecture-chapter-8"><i class="fa fa-check"></i><b>1.8.6</b> Lecture Chapter 8</a></li>
<li class="chapter" data-level="1.8.7" data-path="index.html"><a href="index.html#lecture-chapter-9"><i class="fa fa-check"></i><b>1.8.7</b> Lecture Chapter 9</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i><b>2</b> R basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-basics.html"><a href="r-basics.html#what-is-r-rstudio"><i class="fa fa-check"></i><b>2.1</b> What is R / Rstudio</a></li>
<li class="chapter" data-level="2.2" data-path="r-basics.html"><a href="r-basics.html#r-rstudio-installation"><i class="fa fa-check"></i><b>2.2</b> R / Rstudio installation</a></li>
<li class="chapter" data-level="2.3" data-path="r-basics.html"><a href="r-basics.html#rstudio-interface"><i class="fa fa-check"></i><b>2.3</b> Rstudio interface</a></li>
<li class="chapter" data-level="2.4" data-path="r-basics.html"><a href="r-basics.html#keyboard-shortcuts"><i class="fa fa-check"></i><b>2.4</b> Keyboard shortcuts</a></li>
<li class="chapter" data-level="2.5" data-path="r-basics.html"><a href="r-basics.html#set-working-directory"><i class="fa fa-check"></i><b>2.5</b> Set working directory</a></li>
<li class="chapter" data-level="2.6" data-path="r-basics.html"><a href="r-basics.html#hello-world"><i class="fa fa-check"></i><b>2.6</b> Hello world</a></li>
<li class="chapter" data-level="2.7" data-path="r-basics.html"><a href="r-basics.html#help"><i class="fa fa-check"></i><b>2.7</b> Help</a></li>
<li class="chapter" data-level="2.8" data-path="r-basics.html"><a href="r-basics.html#rstudio-workspace"><i class="fa fa-check"></i><b>2.8</b> RStudio workspace</a></li>
<li class="chapter" data-level="2.9" data-path="r-basics.html"><a href="r-basics.html#r-packages"><i class="fa fa-check"></i><b>2.9</b> R packages</a></li>
<li class="chapter" data-level="2.10" data-path="r-basics.html"><a href="r-basics.html#data-sets"><i class="fa fa-check"></i><b>2.10</b> Data sets</a></li>
<li class="chapter" data-level="2.11" data-path="r-basics.html"><a href="r-basics.html#cheatsheet"><i class="fa fa-check"></i><b>2.11</b> Cheatsheet</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html"><i class="fa fa-check"></i><b>3</b> R programming basics I</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#terminology"><i class="fa fa-check"></i><b>3.1</b> Terminology</a></li>
<li class="chapter" data-level="3.2" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#r-console-script"><i class="fa fa-check"></i><b>3.2</b> R console script</a></li>
<li class="chapter" data-level="3.3" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#what-is-a-programming-language"><i class="fa fa-check"></i><b>3.3</b> What is a programming language</a></li>
<li class="chapter" data-level="3.4" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#variables-and-values"><i class="fa fa-check"></i><b>3.4</b> Variables and values</a></li>
<li class="chapter" data-level="3.5" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#object-variable-type-of-storage-mode"><i class="fa fa-check"></i><b>3.5</b> Object (variable) type of (storage) mode</a></li>
<li class="chapter" data-level="3.6" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#levels-of-measurement"><i class="fa fa-check"></i><b>3.6</b> Levels of measurement</a></li>
<li class="chapter" data-level="3.7" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#object---vectors"><i class="fa fa-check"></i><b>3.7</b> Object - Vectors</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-1"><i class="fa fa-check"></i><b>3.7.1</b> Exercise 3-1</a></li>
<li class="chapter" data-level="3.7.2" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-2"><i class="fa fa-check"></i><b>3.7.2</b> Exercise 3-2</a></li>
<li class="chapter" data-level="3.7.3" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-3"><i class="fa fa-check"></i><b>3.7.3</b> Exercise 3-3</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#object---matrix"><i class="fa fa-check"></i><b>3.8</b> Object - matrix</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-4"><i class="fa fa-check"></i><b>3.8.1</b> Exercise 3-4</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#object---data.frame"><i class="fa fa-check"></i><b>3.9</b> Object - data.frame</a></li>
<li class="chapter" data-level="3.10" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#object---list"><i class="fa fa-check"></i><b>3.10</b> Object - list</a></li>
<li class="chapter" data-level="3.11" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#missing-values"><i class="fa fa-check"></i><b>3.11</b> Missing values</a></li>
<li class="chapter" data-level="3.12" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#useful-functions-i"><i class="fa fa-check"></i><b>3.12</b> Useful functions I</a>
<ul>
<li class="chapter" data-level="3.12.1" data-path="r-programming-basics-i.html"><a href="r-programming-basics-i.html#exercise-3-5"><i class="fa fa-check"></i><b>3.12.1</b> Exercise 3-5</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html"><i class="fa fa-check"></i><b>4</b> R programming basics II</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#a-script-in-r"><i class="fa fa-check"></i><b>4.1</b> A script in R</a></li>
<li class="chapter" data-level="4.2" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#functions"><i class="fa fa-check"></i><b>4.2</b> Functions</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-1"><i class="fa fa-check"></i><b>4.2.1</b> Exercise 4-1</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#vectorized-functions"><i class="fa fa-check"></i><b>4.3</b> Vectorized functions</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-2"><i class="fa fa-check"></i><b>4.3.1</b> Exercise 4-2</a></li>
<li class="chapter" data-level="4.3.2" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-3"><i class="fa fa-check"></i><b>4.3.2</b> Exercise 4-3</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#if-statements"><i class="fa fa-check"></i><b>4.4</b> if statements</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-4"><i class="fa fa-check"></i><b>4.4.1</b> Exercise 4-4</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#for-while-repeat"><i class="fa fa-check"></i><b>4.5</b> for, while, repeat</a></li>
<li class="chapter" data-level="4.6" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#avoiding-loops"><i class="fa fa-check"></i><b>4.6</b> Avoiding Loops</a></li>
<li class="chapter" data-level="4.7" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#object-oriented-programming-advanced"><i class="fa fa-check"></i><b>4.7</b> Object Oriented Programming (Advanced)</a></li>
<li class="chapter" data-level="4.8" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#usuful-functions-ii"><i class="fa fa-check"></i><b>4.8</b> Usuful functions II</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-5"><i class="fa fa-check"></i><b>4.8.1</b> Exercise 4-5</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#file-read-and-write"><i class="fa fa-check"></i><b>4.9</b> File read and write</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-6"><i class="fa fa-check"></i><b>4.9.1</b> Exercise 4-6</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#excel-file-read-and-data-plotting"><i class="fa fa-check"></i><b>4.10</b> Excel file read and data plotting</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="r-programming-basics-ii.html"><a href="r-programming-basics-ii.html#exercise-4-7-barplot-with-error-bars"><i class="fa fa-check"></i><b>4.10.1</b> Exercise 4-7 barplot with error bars</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html"><i class="fa fa-check"></i><b>5</b> R graphics basics</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#scatter-plot"><i class="fa fa-check"></i><b>5.1</b> scatter plot</a></li>
<li class="chapter" data-level="5.2" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#histogram"><i class="fa fa-check"></i><b>5.2</b> histogram</a></li>
<li class="chapter" data-level="5.3" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#boxplot"><i class="fa fa-check"></i><b>5.3</b> boxplot</a></li>
<li class="chapter" data-level="5.4" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#barplot"><i class="fa fa-check"></i><b>5.4</b> barplot</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#exercise-5-1"><i class="fa fa-check"></i><b>5.4.1</b> Exercise 5-1</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#draw-multiple-graphs-in-the-same-plot"><i class="fa fa-check"></i><b>5.5</b> Draw multiple graphs in the same plot</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#exercise-5-2"><i class="fa fa-check"></i><b>5.5.1</b> Exercise 5-2</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="r-graphics-basics.html"><a href="r-graphics-basics.html#barplot-for-multiplate-reader-data"><i class="fa fa-check"></i><b>5.6</b> Barplot for multiplate reader data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html"><i class="fa fa-check"></i><b>6</b> R graphics ggplot2</a>
<ul>
<li class="chapter" data-level="6.1" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#basics"><i class="fa fa-check"></i><b>6.1</b> Basics</a></li>
<li class="chapter" data-level="6.2" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#facets"><i class="fa fa-check"></i><b>6.2</b> Facets</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#exercise-6.1"><i class="fa fa-check"></i><b>6.2.1</b> Exercise 6.1</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#bar-graph"><i class="fa fa-check"></i><b>6.3</b> Bar graph</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#exercise-6.2"><i class="fa fa-check"></i><b>6.3.1</b> Exercise 6.2</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#line-graph"><i class="fa fa-check"></i><b>6.4</b> Line graph</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#exercise-6.3"><i class="fa fa-check"></i><b>6.4.1</b> Exercise 6.3</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#smoothing"><i class="fa fa-check"></i><b>6.5</b> Smoothing</a></li>
<li class="chapter" data-level="6.6" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#statstics-and-positions"><i class="fa fa-check"></i><b>6.6</b> Statstics and positions</a></li>
<li class="chapter" data-level="6.7" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#themes-labels-and-scales"><i class="fa fa-check"></i><b>6.7</b> Themes, Labels, and Scales</a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="r-graphics-ggplot2.html"><a href="r-graphics-ggplot2.html#exercise-6.4"><i class="fa fa-check"></i><b>6.7.1</b> Exercise 6.4</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html"><i class="fa fa-check"></i><b>7</b> Data transformation basics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#subset-and-filter"><i class="fa fa-check"></i><b>7.1</b> subset and filter</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#exercise-7.1"><i class="fa fa-check"></i><b>7.1.1</b> Exercise 7.1</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#merging-and-split"><i class="fa fa-check"></i><b>7.2</b> merging and split</a></li>
<li class="chapter" data-level="7.3" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#transforming-data"><i class="fa fa-check"></i><b>7.3</b> transforming data</a></li>
<li class="chapter" data-level="7.4" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#analysis-example-babies"><i class="fa fa-check"></i><b>7.4</b> Analysis example (babies)</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#exercise-7.2"><i class="fa fa-check"></i><b>7.4.1</b> Exercise 7.2</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#apply"><i class="fa fa-check"></i><b>7.5</b> apply</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="data-transformation-basics.html"><a href="data-transformation-basics.html#exercise-7.3"><i class="fa fa-check"></i><b>7.5.1</b> Exercise 7.3</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html"><i class="fa fa-check"></i><b>8</b> Data transformation with dplyr</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#long-and-wide-data-structure"><i class="fa fa-check"></i><b>8.1</b> Long and wide data structure</a></li>
<li class="chapter" data-level="8.2" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#dplyr---pipe-operator"><i class="fa fa-check"></i><b>8.2</b> dplyr - pipe operator</a></li>
<li class="chapter" data-level="8.3" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#dplyr---important-functions"><i class="fa fa-check"></i><b>8.3</b> dplyr - Important functions</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#filter"><i class="fa fa-check"></i><b>8.3.1</b> filter</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#arrange"><i class="fa fa-check"></i><b>8.3.2</b> arrange</a></li>
<li class="chapter" data-level="8.3.3" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#select"><i class="fa fa-check"></i><b>8.3.3</b> select</a></li>
<li class="chapter" data-level="8.3.4" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#mutate"><i class="fa fa-check"></i><b>8.3.4</b> mutate</a></li>
<li class="chapter" data-level="8.3.5" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#summarise"><i class="fa fa-check"></i><b>8.3.5</b> summarise</a></li>
<li class="chapter" data-level="8.3.6" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#join"><i class="fa fa-check"></i><b>8.3.6</b> join</a></li>
<li class="chapter" data-level="8.3.7" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#code-comparison"><i class="fa fa-check"></i><b>8.3.7</b> code comparison</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-transformation-with-dplyr.html"><a href="data-transformation-with-dplyr.html#dplyr-example-iris"><i class="fa fa-check"></i><b>8.4</b> dplyr example iris</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="exercise-class.html"><a href="exercise-class.html"><i class="fa fa-check"></i><b>9</b> Exercise class</a>
<ul>
<li class="chapter" data-level="9.1" data-path="exercise-class.html"><a href="exercise-class.html#exercise-7.3-1"><i class="fa fa-check"></i><b>9.1</b> Exercise 7.3</a></li>
<li class="chapter" data-level="9.2" data-path="exercise-class.html"><a href="exercise-class.html#exercise-9.1"><i class="fa fa-check"></i><b>9.2</b> Exercise 9.1</a></li>
<li class="chapter" data-level="9.3" data-path="exercise-class.html"><a href="exercise-class.html#exercise-9.2"><i class="fa fa-check"></i><b>9.3</b> Exercise 9.2</a></li>
<li class="chapter" data-level="9.4" data-path="exercise-class.html"><a href="exercise-class.html#exercise-9.3"><i class="fa fa-check"></i><b>9.4</b> Exercise 9.3</a></li>
<li class="chapter" data-level="9.5" data-path="exercise-class.html"><a href="exercise-class.html#exercise-9.4"><i class="fa fa-check"></i><b>9.5</b> Exercise 9.4</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R 프로그래밍과 데이터 분석</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-programming-basics-ii" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> R programming basics II</h1>
<div id="a-script-in-r" class="section level2">
<h2><span class="header-section-number">4.1</span> A script in R</h2>
<p>R 프로그래밍을 통해서 사용자가 원하는 기능을 수행하는 방법은 다음과 같이 스크립트를 만들어서 실행하는 것 입니다. 일반적으로 R을 이용한 스크립트 명령을 어떻게 실행하는지 알아보겠습니다. 다음 예제는 입력 값들의 평균을 계산해서 출력해 주는 스크립트 명령입니다. R base 패키지에서 기본으로 제공되는 <code>mean()</code>이라는 함수가 있지만 사용하지 않고 <code>sum()</code>과 <code>length()</code> 함수를 사용했습니다.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-programming-basics-ii.html#cb28-1"></a>numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.452</span>, <span class="fl">1.474</span>, <span class="fl">0.22</span>, <span class="fl">0.545</span>, <span class="fl">1.205</span>, <span class="fl">3.55</span>)</span>
<span id="cb28-2"><a href="r-programming-basics-ii.html#cb28-2"></a><span class="kw">cat</span>(<span class="st">&quot;Input numbers are&quot;</span>, numbers, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb28-3"><a href="r-programming-basics-ii.html#cb28-3"></a>numbers_mean &lt;-<span class="st"> </span><span class="kw">sum</span>(numbers)<span class="op">/</span><span class="kw">length</span>(numbers)</span>
<span id="cb28-4"><a href="r-programming-basics-ii.html#cb28-4"></a>out &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;The average is &quot;</span>, numbers_mean, <span class="st">&quot;.</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb28-5"><a href="r-programming-basics-ii.html#cb28-5"></a><span class="kw">cat</span>(out)</span></code></pre></div>
<p>상황에 따라 다르긴 하지만 보통 위 스크립트를 실행할 때 R 파일을 하나 만들고 <code>source()</code>라는 함수를 사용해서 파일 전체를 한번에 읽어들이고 실행을 시킵니다. 위 코드를 <code>myscript.R</code> 이라는 새로운 R 파일을 하나 만들고 저장 후 다음과 같이 실행할 수 있습니다. 참고로 위 파일은 현재 working directory와 같은 위치에 저장해야 합니다.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="r-programming-basics-ii.html#cb29-1"></a><span class="kw">source</span>(<span class="st">&quot;myscript.R&quot;</span>)</span></code></pre></div>
<p>그러나 위와 같은 식으로 실행할 경우 다음 몇 가지 문제가 있습니다. 하나는 입력 값이 바뀔 때마나 파일을 열어 바뀐 값을 저장해 줄 필요가 있습니다. 결과 값에 대해서 다른 처리를 하고 싶을 경우 또한 파일을 직접 수정해 주어야 합니다. 또한 모든 변수들이 전역변수로 사용되어 코드가 복잡해질 경우 변수간 간섭이 생길 가능성이 높습니다.</p>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">4.2</span> Functions</h2>
<p>함수를 사용하면 위와같은 문제를 극복할 수 있습니다. 함수(Function)는 다음과 같은 포멧으로 구현할 수 있습니다.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-programming-basics-ii.html#cb30-1"></a>myfunction.name &lt;-<span class="st"> </span><span class="cf">function</span>(parameter1, parameter2, ... ){</span>
<span id="cb30-2"><a href="r-programming-basics-ii.html#cb30-2"></a>  statements</span>
<span id="cb30-3"><a href="r-programming-basics-ii.html#cb30-3"></a>  <span class="kw">return</span>(object)</span>
<span id="cb30-4"><a href="r-programming-basics-ii.html#cb30-4"></a>}</span></code></pre></div>
<p>예를 들어 다음과 같은 <code>my_sine</code> 함수를 만들 수 있으며 parameter (매개변수)는 <code>x</code>이고 <code>y</code>는 반환값을 저장하는 지역변수 입니다.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="r-programming-basics-ii.html#cb31-1"></a>my_sine &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb31-2"><a href="r-programming-basics-ii.html#cb31-2"></a>    y &lt;-<span class="st"> </span><span class="kw">sin</span>(x)</span>
<span id="cb31-3"><a href="r-programming-basics-ii.html#cb31-3"></a>    <span class="kw">return</span>(y)</span>
<span id="cb31-4"><a href="r-programming-basics-ii.html#cb31-4"></a>}</span></code></pre></div>
<p>만들어진 함수는 다음과 같이 사용할 수 있습니다. 만들어진 함수는 처음에 한 번 실행해 주어 실행중인 R session에 등록한 후 사용할 수 있습니다. 여기서 함수로 전달되는 값 <code>pi</code>는 argument (전달인자) 라고 합니다. 전달인자는 함수에서 정의된 매개변수의 갯수와 같은 수의 전달인자를 입력해 주어야 합니다.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r-programming-basics-ii.html#cb32-1"></a><span class="kw">my_sine</span>(pi)</span></code></pre></div>
<ul>
<li>Terminology
<ul>
<li>function name: <code>my_sine</code></li>
<li>parameter: <code>x</code></li>
<li>argument: <code>pi</code></li>
<li>return value: <code>y</code></li>
</ul></li>
</ul>
<p>이제 위 스크립트에서 사용된 코드를 함수로 바꿔봅니다. numbers (전달인자)를 받는 매개변수를 x로 하고 함수 이름은 <code>mymean</code> 이고 평균값 (numbers_mean)을 반환하는 합수입니다.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="r-programming-basics-ii.html#cb33-1"></a>numbers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">0.452</span>, <span class="fl">1.474</span>, <span class="fl">0.22</span>, <span class="fl">0.545</span>, <span class="fl">1.205</span>, <span class="fl">3.55</span>)</span>
<span id="cb33-2"><a href="r-programming-basics-ii.html#cb33-2"></a></span>
<span id="cb33-3"><a href="r-programming-basics-ii.html#cb33-3"></a>mymean &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb33-4"><a href="r-programming-basics-ii.html#cb33-4"></a>  <span class="kw">cat</span>(<span class="st">&quot;Input numbers are&quot;</span>, x, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb33-5"><a href="r-programming-basics-ii.html#cb33-5"></a>  numbers_mean &lt;-<span class="st"> </span><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)</span>
<span id="cb33-6"><a href="r-programming-basics-ii.html#cb33-6"></a>  out &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;The average is &quot;</span>, numbers_mean, <span class="st">&quot;.</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb33-7"><a href="r-programming-basics-ii.html#cb33-7"></a>  <span class="kw">cat</span>(out)</span>
<span id="cb33-8"><a href="r-programming-basics-ii.html#cb33-8"></a>  <span class="kw">return</span>(numbers_mean)</span>
<span id="cb33-9"><a href="r-programming-basics-ii.html#cb33-9"></a>}</span>
<span id="cb33-10"><a href="r-programming-basics-ii.html#cb33-10"></a></span>
<span id="cb33-11"><a href="r-programming-basics-ii.html#cb33-11"></a>retval &lt;-<span class="st"> </span><span class="kw">mymean</span>(numbers)</span>
<span id="cb33-12"><a href="r-programming-basics-ii.html#cb33-12"></a><span class="kw">cat</span>(retval)</span></code></pre></div>
<p><code>myscript.R</code>이라는 파일을 열고 작성된 스크립트에 더해서 아래처럼 함수 코드를 만들 경우 <code>source()</code> 함수로 함수를 세션으로 읽어오고 바로 사용할 수 있습니다. 위와 같이 함수를 만들 경우 입력 값을 언제든 바꿔서 사용할 수 있고 반환값에 대한 추가적인 연산도 쉽게 수행 할 수 있습니다.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-programming-basics-ii.html#cb34-1"></a>new_values &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span>
<span id="cb34-2"><a href="r-programming-basics-ii.html#cb34-2"></a>retval &lt;-<span class="st"> </span><span class="kw">mymean</span>(new_values)</span>
<span id="cb34-3"><a href="r-programming-basics-ii.html#cb34-3"></a>retval</span></code></pre></div>
<div id="exercise-4-1" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Exercise 4-1</h3>
<ol style="list-style-type: decimal">
<li><code>mysd</code>라는 이름의 (표본)표준편차를 구하는 함수를 <code>myscript.R</code> 파일에 구현하시오 (<code>sd()</code>함수 사용 불가, 다음 표준편차 공식 이용)</li>
</ol>
<p><span class="math display">\[ 
\sigma = \sqrt{\frac{\sum(x-mean(x))^2}{length(x)-1}} 
\]</span></p>
<p>코드는 아래와 같음</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-programming-basics-ii.html#cb35-1"></a>numbers_sd &lt;-<span class="st"> </span><span class="kw">sqrt</span>(((x <span class="op">-</span><span class="st"> </span><span class="kw">mymean</span>(x))<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(<span class="kw">length</span>(x)<span class="op">-</span><span class="dv">1</span>))</span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li><p>1부터 100까지의 값을 <code>x</code>에 저장하고 mysd 함수를 사용해서 표준편차를 구하시오</p></li>
<li><p>앞서 작성한 <code>mymean</code> 함수와 <code>mysd</code> 함수를 같이 사용하여 <code>x</code>를 표준화 하고 <code>y</code>로 저장하시오. 표준화 공식은 다음과 같음</p></li>
</ol>
<p><span class="math display">\[ 
y = \frac{x - mean(x)}{sd(x)}
\]</span></p>
<ol start="4" style="list-style-type: decimal">
<li><code>x</code> 와 <code>y</code>를 갖는 <code>z</code>라는 이름의 <code>data.frame</code>을 생성하시오</li>
</ol>
<hr />
<p>다음 코드를 보면 전역변수 <code>x</code>, <code>y</code>는 지역변수 <code>x</code>, <code>y</code>와 독립적으로 사용됨을 알 수 있습니다.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-programming-basics-ii.html#cb36-1"></a>my_half &lt;-<span class="st"> </span><span class="cf">function</span>(x){</span>
<span id="cb36-2"><a href="r-programming-basics-ii.html#cb36-2"></a>  y &lt;-<span class="st"> </span>x<span class="op">/</span><span class="dv">2</span></span>
<span id="cb36-3"><a href="r-programming-basics-ii.html#cb36-3"></a>  <span class="kw">cat</span>(<span class="st">&quot;local variable x:&quot;</span>, x, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb36-4"><a href="r-programming-basics-ii.html#cb36-4"></a>  <span class="kw">cat</span>(<span class="st">&quot;local variable y:&quot;</span>, y, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb36-5"><a href="r-programming-basics-ii.html#cb36-5"></a>  <span class="kw">return</span>(y)</span>
<span id="cb36-6"><a href="r-programming-basics-ii.html#cb36-6"></a>}</span>
<span id="cb36-7"><a href="r-programming-basics-ii.html#cb36-7"></a>y &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb36-8"><a href="r-programming-basics-ii.html#cb36-8"></a>x &lt;-<span class="st"> </span><span class="dv">20</span></span>
<span id="cb36-9"><a href="r-programming-basics-ii.html#cb36-9"></a><span class="kw">cat</span>(<span class="st">&quot;Global variable x:&quot;</span>, x, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb36-10"><a href="r-programming-basics-ii.html#cb36-10"></a><span class="kw">cat</span>(<span class="st">&quot;Global variable y:&quot;</span>, y, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb36-11"><a href="r-programming-basics-ii.html#cb36-11"></a><span class="kw">my_half</span>(<span class="dv">5</span>)</span></code></pre></div>
<p><code>log</code>, <code>sin</code>등의 함수들은 Built-in function으로 같은 이름의 함수를 만들지 않도록 주의합니다.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="r-programming-basics-ii.html#cb37-1"></a>x &lt;-<span class="st"> </span>pi</span>
<span id="cb37-2"><a href="r-programming-basics-ii.html#cb37-2"></a><span class="kw">sin</span>(x)</span>
<span id="cb37-3"><a href="r-programming-basics-ii.html#cb37-3"></a><span class="kw">sqrt</span>(x)</span>
<span id="cb37-4"><a href="r-programming-basics-ii.html#cb37-4"></a><span class="kw">log</span>(x)</span>
<span id="cb37-5"><a href="r-programming-basics-ii.html#cb37-5"></a><span class="kw">log</span>(x, <span class="dv">10</span>)</span>
<span id="cb37-6"><a href="r-programming-basics-ii.html#cb37-6"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb37-7"><a href="r-programming-basics-ii.html#cb37-7"></a>x <span class="op">+</span><span class="st"> </span>x</span>
<span id="cb37-8"><a href="r-programming-basics-ii.html#cb37-8"></a><span class="kw">mean</span>(x)</span>
<span id="cb37-9"><a href="r-programming-basics-ii.html#cb37-9"></a><span class="kw">sum</span>(x)<span class="op">/</span><span class="kw">length</span>(x)</span></code></pre></div>
</div>
</div>
<div id="vectorized-functions" class="section level2">
<h2><span class="header-section-number">4.3</span> Vectorized functions</h2>
<p>초기에 R이 다른 프로그래밍 언어에 비해서 경쟁력을 갖는 이유 중 하나가 바로 이 벡터 연산 기능 이였습니다. <code>vector</code> 변수에 들어있는 각 원소들에 대해서 특정 함수나 연산을 적용하고 싶을 경우 전통 방식의 <code>C</code>나 <code>Java</code>등의 언어에서는 원소의 개수만큼 반복문을 돌면서 원하는 작업을 수행 했습니다. 그러나 R의 벡터 연산 기능은 별도의 반복문 없이 vector 안에 있는 원소들에 대한 함수 실행 또는 연산을 수행할 수 있습니다.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-programming-basics-ii.html#cb38-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span>
<span id="cb38-2"><a href="r-programming-basics-ii.html#cb38-2"></a>x <span class="op">+</span><span class="st"> </span>x</span>
<span id="cb38-3"><a href="r-programming-basics-ii.html#cb38-3"></a><span class="kw">sqrt</span>(x)</span>
<span id="cb38-4"><a href="r-programming-basics-ii.html#cb38-4"></a><span class="kw">sin</span>(x)</span>
<span id="cb38-5"><a href="r-programming-basics-ii.html#cb38-5"></a><span class="kw">log</span>(x)</span>
<span id="cb38-6"><a href="r-programming-basics-ii.html#cb38-6"></a>x<span class="op">-</span><span class="kw">mean</span>(x)</span>
<span id="cb38-7"><a href="r-programming-basics-ii.html#cb38-7"></a></span>
<span id="cb38-8"><a href="r-programming-basics-ii.html#cb38-8"></a><span class="kw">length</span>(x)</span>
<span id="cb38-9"><a href="r-programming-basics-ii.html#cb38-9"></a>test_scores &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dt">Alice =</span> <span class="dv">87</span>, <span class="dt">Bob =</span> <span class="dv">72</span>, <span class="dt">James=</span> <span class="dv">99</span>)</span>
<span id="cb38-10"><a href="r-programming-basics-ii.html#cb38-10"></a><span class="kw">names</span>(test_scores)</span></code></pre></div>
<div id="exercise-4-2" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Exercise 4-2</h3>
<p>다음은 한 다이어트 프로그램의 수행 전 후의 다섯 명의 몸무게이다.</p>
<p><img src="images/01/01-21.PNG" /></p>
<ol style="list-style-type: decimal">
<li><p>각각을 before 와 after 이름의 변수에 저장 후 몸무게 값의 변화량을 계산하여 diff 라는 변수에 저장하고 diff에 저장된 값들의 평균을 구하시오</p></li>
<li><p>my_mean 이라는 이름의 함수로 평균을 구하는 코드를 작성 하시오 (빌트인 함수 사용하지 않음)</p></li>
</ol>
<ul>
<li>함수이름: my_mean</li>
<li>parameter: x</li>
<li>return 값: y</li>
<li>(x[1]+x[2]+x[3]+x[4]+x[5])/5</li>
</ul>
<ol start="3" style="list-style-type: decimal">
<li>빌트인 함수 sum()과 length()를 이용해 동일한 기능을 하는 함수를 작성하시오</li>
</ol>
<ul>
<li>함수이름 my_mean2</li>
<li>sum(), length() 사용</li>
</ul>
</div>
<div id="exercise-4-3" class="section level3">
<h3><span class="header-section-number">4.3.2</span> Exercise 4-3</h3>
<p>다음 네 학생이 있으며 “John”,“James”,“Sara”, “Lilly” 각 나이는 21, 55, 23, 53 이다. ages 라는 변수를 생성하고 각 나이를 저장한 후 who라는 이름의 함수를 만들어서 50살 이상인 사람의 이름을 출력하는 함수를 만드시오.</p>
<ul>
<li>ages라는 변수에 나이 저장, c() 함수 이용, vector 형태 저장</li>
<li>names() 함수 이용해서 각 ages 벡터의 각 요소에 이름 붙이기</li>
<li>which() 함수 사용해서 나이가 50보다 큰 인덱스 찾고 해당 인덱스 값 출력 하기</li>
<li>ages를 메개변수로 받아서 나이가 50보다 큰 인덱스 찾고 해당 인덱스의 값을 반환해 주는 who 함수 만들고 사용</li>
</ul>
</div>
</div>
<div id="if-statements" class="section level2">
<h2><span class="header-section-number">4.4</span> if statements</h2>
<p>R에서의 제어문의 사용은 다른 프로그래밍 언어와 거의 유사합니다. 먼저 <code>if</code> 는 다음과 같은 형식으로 사용되며 <code>()</code> 안에 특정 조건 판단을 위한 표현이 들어갑니다.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="r-programming-basics-ii.html#cb39-1"></a><span class="cf">if</span>(condition){</span>
<span id="cb39-2"><a href="r-programming-basics-ii.html#cb39-2"></a>  expr_<span class="dv">1</span></span>
<span id="cb39-3"><a href="r-programming-basics-ii.html#cb39-3"></a>}<span class="cf">else</span>{</span>
<span id="cb39-4"><a href="r-programming-basics-ii.html#cb39-4"></a>  expr_<span class="dv">2</span></span>
<span id="cb39-5"><a href="r-programming-basics-ii.html#cb39-5"></a>}</span></code></pre></div>
<p>특히 <code>condition</code>은 하나의 원소에 대한 조건 판단문으로 <code>T</code> 또는 <code>F</code> 값 하나만을 반환하는 문장이어야 합니다. 위 코드는 만약 <code>condition</code> 조건이 <code>True</code> 이면 expr_1를 실행하고 <code>False</code>이면 expr_2를 실행하라는 명령입니다. <code>condition</code> 안에서 사용되는 비교 연산자들은 다음과 같습니다.</p>
<p><img src="images/04/01.PNG" /></p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-programming-basics-ii.html#cb40-1"></a>x &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb40-2"><a href="r-programming-basics-ii.html#cb40-2"></a><span class="cf">if</span>(x<span class="op">%%</span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</span>
<span id="cb40-3"><a href="r-programming-basics-ii.html#cb40-3"></a>  <span class="kw">cat</span>(<span class="st">&quot;Odd&quot;</span>)</span>
<span id="cb40-4"><a href="r-programming-basics-ii.html#cb40-4"></a>}<span class="cf">else</span>{</span>
<span id="cb40-5"><a href="r-programming-basics-ii.html#cb40-5"></a>  <span class="kw">cat</span>(<span class="st">&quot;Even&quot;</span>)</span>
<span id="cb40-6"><a href="r-programming-basics-ii.html#cb40-6"></a>} </span>
<span id="cb40-7"><a href="r-programming-basics-ii.html#cb40-7"></a></span>
<span id="cb40-8"><a href="r-programming-basics-ii.html#cb40-8"></a>x &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb40-9"><a href="r-programming-basics-ii.html#cb40-9"></a><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&lt;</span><span class="st"> </span><span class="dv">4</span>){</span>
<span id="cb40-10"><a href="r-programming-basics-ii.html#cb40-10"></a>   <span class="kw">print</span>(<span class="st">&quot;Positive number less than four&quot;</span>)</span>
<span id="cb40-11"><a href="r-programming-basics-ii.html#cb40-11"></a>}</span>
<span id="cb40-12"><a href="r-programming-basics-ii.html#cb40-12"></a><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>) <span class="kw">print</span>(<span class="st">&quot;Positive number&quot;</span>)</span>
<span id="cb40-13"><a href="r-programming-basics-ii.html#cb40-13"></a></span>
<span id="cb40-14"><a href="r-programming-basics-ii.html#cb40-14"></a></span>
<span id="cb40-15"><a href="r-programming-basics-ii.html#cb40-15"></a>x &lt;-<span class="st"> </span><span class="dv">-5</span></span>
<span id="cb40-16"><a href="r-programming-basics-ii.html#cb40-16"></a><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>){</span>
<span id="cb40-17"><a href="r-programming-basics-ii.html#cb40-17"></a>    <span class="kw">print</span>(<span class="st">&quot;Non-negative number&quot;</span>)</span>
<span id="cb40-18"><a href="r-programming-basics-ii.html#cb40-18"></a>} <span class="cf">else</span> <span class="cf">if</span>(x <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">&gt;</span><span class="st"> </span><span class="dv">-5</span>){</span>
<span id="cb40-19"><a href="r-programming-basics-ii.html#cb40-19"></a>    <span class="kw">print</span>(<span class="st">&quot;Negative number greater than -5&quot;</span>)</span>
<span id="cb40-20"><a href="r-programming-basics-ii.html#cb40-20"></a>} <span class="cf">else</span> {</span>
<span id="cb40-21"><a href="r-programming-basics-ii.html#cb40-21"></a>  <span class="kw">print</span>(<span class="st">&quot;Negative number less than -5&quot;</span>)</span>
<span id="cb40-22"><a href="r-programming-basics-ii.html#cb40-22"></a>}</span>
<span id="cb40-23"><a href="r-programming-basics-ii.html#cb40-23"></a></span>
<span id="cb40-24"><a href="r-programming-basics-ii.html#cb40-24"></a><span class="cf">if</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">0</span>)</span>
<span id="cb40-25"><a href="r-programming-basics-ii.html#cb40-25"></a>    <span class="kw">print</span>(<span class="st">&quot;Non-negative number&quot;</span>)</span>
<span id="cb40-26"><a href="r-programming-basics-ii.html#cb40-26"></a><span class="cf">else</span></span>
<span id="cb40-27"><a href="r-programming-basics-ii.html#cb40-27"></a>    <span class="kw">print</span>(<span class="st">&quot;Negative number&quot;</span>)</span></code></pre></div>
<div id="exercise-4-4" class="section level3">
<h3><span class="header-section-number">4.4.1</span> Exercise 4-4</h3>
<ol style="list-style-type: decimal">
<li><p>1부터 100까지 수 중 랜덤하게 1 개의 값을 골라 n 변수에 저장하고 다시 1부터 100까지 랜덤하게 n개의 수를 중복을 허용해서 골라 x 변수에 저장 하시오 (랜덤 생성: <code>sample()</code>함수 사용)</p></li>
<li><p>다음은 median (중간값)을 구하는 공식이며 x의 길이가 (n이) 홀수일 경우와 짝수일 경우에 따라서 다른 공식이 사용된다. 다음 공식과 코드를 이용하여 mymedian 이라는 이름의 함수를 만들고 입력 값들의 중간값을 구해서 반환하는 함수를 만드시오. (<code>%%</code> 나머지 연산, <code>if</code>문 사용, 아래 중간값 코드 참고)</p></li>
</ol>
<p><span class="math display">\[
median(X) =
\begin{cases}
\frac{1}{2} X[\frac{n}{2}] + \frac{1}{2} X[1+\frac{n}{2}] &amp; \mbox{if } n \mbox{ is even} \\
X[\frac{n+1}{2}] &amp; \mbox{if } n \mbox{ is odd}
\end{cases}
\]</span></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-programming-basics-ii.html#cb41-1"></a>sorted_x &lt;-<span class="st"> </span><span class="kw">sort</span>(x)</span>
<span id="cb41-2"><a href="r-programming-basics-ii.html#cb41-2"></a>retval &lt;-<span class="st"> </span>sort_x[n<span class="op">/</span><span class="dv">2</span>]<span class="op">/</span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>sort_x[<span class="dv">1</span><span class="op">+</span>(n<span class="op">/</span><span class="dv">2</span>)]<span class="op">/</span><span class="dv">2</span></span>
<span id="cb41-3"><a href="r-programming-basics-ii.html#cb41-3"></a>retval &lt;-<span class="st"> </span>sort_x[(n<span class="op">+</span><span class="dv">1</span>)<span class="op">/</span><span class="dv">2</span>]</span></code></pre></div>
</div>
</div>
<div id="for-while-repeat" class="section level2">
<h2><span class="header-section-number">4.5</span> for, while, repeat</h2>
<p><code>for</code> 문은 반복적으로 특정 코드를 실행하고자 할 때 사용됩니다. 다음과 같은 형식으로 사용할 수 있습니다. <code>var</code>는 반복을 돌 때마다 바뀌는 변수로 <code>{}</code> 안에서 사용되는 지역 변수 입니다. <code>seq</code>는 vector 형식의 변수로 반복을 돌 때마다 순차적으로 <code>var</code>에 저장되는 값들 입니다.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-programming-basics-ii.html#cb42-1"></a><span class="cf">for</span>(var <span class="cf">in</span> seq){</span>
<span id="cb42-2"><a href="r-programming-basics-ii.html#cb42-2"></a>  expression</span>
<span id="cb42-3"><a href="r-programming-basics-ii.html#cb42-3"></a>}</span>
<span id="cb42-4"><a href="r-programming-basics-ii.html#cb42-4"></a></span>
<span id="cb42-5"><a href="r-programming-basics-ii.html#cb42-5"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb42-6"><a href="r-programming-basics-ii.html#cb42-6"></a><span class="cf">for</span>(i <span class="cf">in</span> x){</span>
<span id="cb42-7"><a href="r-programming-basics-ii.html#cb42-7"></a>  <span class="kw">cat</span>(i, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb42-8"><a href="r-programming-basics-ii.html#cb42-8"></a>  <span class="kw">flush.console</span>()</span>
<span id="cb42-9"><a href="r-programming-basics-ii.html#cb42-9"></a>}</span>
<span id="cb42-10"><a href="r-programming-basics-ii.html#cb42-10"></a></span>
<span id="cb42-11"><a href="r-programming-basics-ii.html#cb42-11"></a>sum_of_i &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb42-12"><a href="r-programming-basics-ii.html#cb42-12"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>){</span>
<span id="cb42-13"><a href="r-programming-basics-ii.html#cb42-13"></a>  sum_of_i &lt;-<span class="st"> </span>sum_of_i <span class="op">+</span><span class="st"> </span>i</span>
<span id="cb42-14"><a href="r-programming-basics-ii.html#cb42-14"></a>  <span class="kw">cat</span>(i, <span class="st">&quot; &quot;</span>, sum_of_i, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>);<span class="kw">flush.console</span>()</span>
<span id="cb42-15"><a href="r-programming-basics-ii.html#cb42-15"></a>}</span></code></pre></div>
<p><code>while</code>문도 <code>for</code>문과 같이 반복적으로 특정 코드를 수행하고자 할 때 사용합니다. 사용하는 문법은 다음과 같으며 <code>cond</code>는 <code>True</code> 또는 <code>False</code> 로 반환되는 조건문을 넣고 <code>True</code> 일 경우 계속해서 반복하면서 <code>expressions</code>를 수행하며 이 반복은 <code>cond</code>가 <code>False</code>로 될 때 까지 계속됩니다.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-programming-basics-ii.html#cb43-1"></a><span class="cf">while</span>(cond){</span>
<span id="cb43-2"><a href="r-programming-basics-ii.html#cb43-2"></a>  expression</span>
<span id="cb43-3"><a href="r-programming-basics-ii.html#cb43-3"></a>}</span></code></pre></div>
<p><code>while</code>문을 사용할 경우 다음과 같이 <code>indicator</code>라 불리우는 변수를 하나 정해서 반복 할 때마다 값이 바뀌도록 해 주어야 합니다. 그렇지 않으면 무한 루프를 돌게 되는 문제가 발생합니다.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-programming-basics-ii.html#cb44-1"></a>i &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb44-2"><a href="r-programming-basics-ii.html#cb44-2"></a>f &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb44-3"><a href="r-programming-basics-ii.html#cb44-3"></a><span class="cf">while</span>(i<span class="op">&gt;</span><span class="dv">1</span>){</span>
<span id="cb44-4"><a href="r-programming-basics-ii.html#cb44-4"></a>  f &lt;-<span class="st"> </span>i<span class="op">*</span>f</span>
<span id="cb44-5"><a href="r-programming-basics-ii.html#cb44-5"></a>  i &lt;-<span class="st"> </span>i<span class="dv">-1</span></span>
<span id="cb44-6"><a href="r-programming-basics-ii.html#cb44-6"></a>  <span class="kw">cat</span>(i, f, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb44-7"><a href="r-programming-basics-ii.html#cb44-7"></a>}</span>
<span id="cb44-8"><a href="r-programming-basics-ii.html#cb44-8"></a>f</span>
<span id="cb44-9"><a href="r-programming-basics-ii.html#cb44-9"></a><span class="kw">factorial</span>(<span class="dv">10</span>)</span></code></pre></div>
<p><code>repeat</code> 명령은 조건 없이 블럭 안에 있는 코드를 무조건 반복하라는 명령 입니다. 따라서 블럭 중간에 멈추기 위한 코드가 필요하고 이 명령이 <code>break</code> 입니다.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="r-programming-basics-ii.html#cb45-1"></a><span class="cf">repeat</span>{</span>
<span id="cb45-2"><a href="r-programming-basics-ii.html#cb45-2"></a>  expressions</span>
<span id="cb45-3"><a href="r-programming-basics-ii.html#cb45-3"></a>  <span class="cf">if</span>(cond) <span class="cf">break</span></span>
<span id="cb45-4"><a href="r-programming-basics-ii.html#cb45-4"></a>}</span>
<span id="cb45-5"><a href="r-programming-basics-ii.html#cb45-5"></a></span>
<span id="cb45-6"><a href="r-programming-basics-ii.html#cb45-6"></a>i &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb45-7"><a href="r-programming-basics-ii.html#cb45-7"></a>f &lt;-<span class="st"> </span><span class="dv">1</span></span>
<span id="cb45-8"><a href="r-programming-basics-ii.html#cb45-8"></a><span class="cf">repeat</span> {</span>
<span id="cb45-9"><a href="r-programming-basics-ii.html#cb45-9"></a>  f &lt;-<span class="st"> </span>i<span class="op">*</span>f</span>
<span id="cb45-10"><a href="r-programming-basics-ii.html#cb45-10"></a>  i &lt;-<span class="st"> </span>i<span class="dv">-1</span></span>
<span id="cb45-11"><a href="r-programming-basics-ii.html#cb45-11"></a>  <span class="kw">cat</span>(i, f, <span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>)</span>
<span id="cb45-12"><a href="r-programming-basics-ii.html#cb45-12"></a>  <span class="cf">if</span>(i<span class="op">&lt;</span><span class="dv">1</span>) <span class="cf">break</span></span>
<span id="cb45-13"><a href="r-programming-basics-ii.html#cb45-13"></a>}</span>
<span id="cb45-14"><a href="r-programming-basics-ii.html#cb45-14"></a>f</span>
<span id="cb45-15"><a href="r-programming-basics-ii.html#cb45-15"></a><span class="kw">factorial</span>(<span class="dv">10</span>)</span></code></pre></div>
</div>
<div id="avoiding-loops" class="section level2">
<h2><span class="header-section-number">4.6</span> Avoiding Loops</h2>
<p>R에서는 가능하면 loop문을 사용하지 않는 것이 좋습니다. 이는 다른 언어들 보다 반복문이 느리게 수행된다는 이유 때문이기도 합니다. 그러나 R에서는 반복문을 수행하는 것 보다 훨씬 더 빠르게 반복문을 수행 한 것과 같은 결과를 얻을 수 있는 다양한 방법들이 제공되고 있습니다. 차차 그런 기법들에 대한 학습을 진행하도록 하겠습니다.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-programming-basics-ii.html#cb46-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="fl">1E7</span></span>
<span id="cb46-2"><a href="r-programming-basics-ii.html#cb46-2"></a><span class="kw">sum</span>(x)</span>
<span id="cb46-3"><a href="r-programming-basics-ii.html#cb46-3"></a><span class="kw">system.time</span>(<span class="kw">sum</span>(x))</span>
<span id="cb46-4"><a href="r-programming-basics-ii.html#cb46-4"></a></span>
<span id="cb46-5"><a href="r-programming-basics-ii.html#cb46-5"></a>st &lt;-<span class="st"> </span><span class="kw">proc.time</span>()</span>
<span id="cb46-6"><a href="r-programming-basics-ii.html#cb46-6"></a>total &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb46-7"><a href="r-programming-basics-ii.html#cb46-7"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(x)){</span>
<span id="cb46-8"><a href="r-programming-basics-ii.html#cb46-8"></a>  total &lt;-<span class="st"> </span>total <span class="op">+</span><span class="st"> </span>x[i]</span>
<span id="cb46-9"><a href="r-programming-basics-ii.html#cb46-9"></a>}</span>
<span id="cb46-10"><a href="r-programming-basics-ii.html#cb46-10"></a>ed &lt;-<span class="st"> </span><span class="kw">proc.time</span>()</span>
<span id="cb46-11"><a href="r-programming-basics-ii.html#cb46-11"></a>ed<span class="op">-</span>st</span></code></pre></div>
</div>
<div id="object-oriented-programming-advanced" class="section level2">
<h2><span class="header-section-number">4.7</span> Object Oriented Programming (Advanced)</h2>
<p>OOP는 객체지향 프로그래밍 이라고 합니다. OOP를 이용해서 프로그래밍으로 풀고자 하는 문제를 좀 더 명확하게 개념을 수립하고 복잡한 코드를 명료하게 만들 수 있습니다. 그런데 R에서 OOP는 다른 언어보다는 좀 더 어려운 개념적인 이해가 필요합니다. <code>S3</code>, <code>S4</code>, 그리고 <code>Reference class</code> 가 있으며 <code>S3</code>, <code>S4</code>는 <code>Generic function</code>을 이용하며 다른 언어에서 사용하는 OOP 개념과는 다릅니다. <code>Reference class</code>는 다른 언어에서 사용하는 OOP 개념과 유사하며 <code>R6</code> 패키지를 이용해서 사용할 수 있습니다.</p>
</div>
<div id="usuful-functions-ii" class="section level2">
<h2><span class="header-section-number">4.8</span> Usuful functions II</h2>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r-programming-basics-ii.html#cb47-1"></a><span class="co">#match(), %in%, intersect()</span></span>
<span id="cb47-2"><a href="r-programming-basics-ii.html#cb47-2"></a></span>
<span id="cb47-3"><a href="r-programming-basics-ii.html#cb47-3"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></span>
<span id="cb47-4"><a href="r-programming-basics-ii.html#cb47-4"></a>y &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">:</span><span class="dv">15</span></span>
<span id="cb47-5"><a href="r-programming-basics-ii.html#cb47-5"></a><span class="kw">match</span>(x, y)</span>
<span id="cb47-6"><a href="r-programming-basics-ii.html#cb47-6"></a>x <span class="op">%in%</span><span class="st"> </span>y</span>
<span id="cb47-7"><a href="r-programming-basics-ii.html#cb47-7"></a><span class="kw">intersect</span>(x, y)</span>
<span id="cb47-8"><a href="r-programming-basics-ii.html#cb47-8"></a></span>
<span id="cb47-9"><a href="r-programming-basics-ii.html#cb47-9"></a><span class="co">#unique()</span></span>
<span id="cb47-10"><a href="r-programming-basics-ii.html#cb47-10"></a><span class="kw">unique</span>(<span class="kw">c</span>(x, y))</span>
<span id="cb47-11"><a href="r-programming-basics-ii.html#cb47-11"></a></span>
<span id="cb47-12"><a href="r-programming-basics-ii.html#cb47-12"></a><span class="co">#substr()</span></span>
<span id="cb47-13"><a href="r-programming-basics-ii.html#cb47-13"></a>x &lt;-<span class="st"> &quot;Factors, raw vectors, and lists, are converted&quot;</span></span>
<span id="cb47-14"><a href="r-programming-basics-ii.html#cb47-14"></a><span class="kw">substr</span>(x, <span class="dv">1</span>, <span class="dv">6</span>)</span>
<span id="cb47-15"><a href="r-programming-basics-ii.html#cb47-15"></a></span>
<span id="cb47-16"><a href="r-programming-basics-ii.html#cb47-16"></a><span class="co">#grep()</span></span>
<span id="cb47-17"><a href="r-programming-basics-ii.html#cb47-17"></a><span class="kw">grep</span>(<span class="st">&quot;raw&quot;</span>, x)</span>
<span id="cb47-18"><a href="r-programming-basics-ii.html#cb47-18"></a></span>
<span id="cb47-19"><a href="r-programming-basics-ii.html#cb47-19"></a><span class="co">#grepl()</span></span>
<span id="cb47-20"><a href="r-programming-basics-ii.html#cb47-20"></a><span class="kw">grepl</span>(<span class="st">&quot;raw&quot;</span>, x)</span>
<span id="cb47-21"><a href="r-programming-basics-ii.html#cb47-21"></a><span class="cf">if</span>(<span class="kw">grepl</span>(<span class="st">&quot;raw&quot;</span>, x)){</span>
<span id="cb47-22"><a href="r-programming-basics-ii.html#cb47-22"></a>  <span class="kw">cat</span>(<span class="st">&quot;I found raw!&quot;</span>)</span>
<span id="cb47-23"><a href="r-programming-basics-ii.html#cb47-23"></a>}</span>
<span id="cb47-24"><a href="r-programming-basics-ii.html#cb47-24"></a></span>
<span id="cb47-25"><a href="r-programming-basics-ii.html#cb47-25"></a>x &lt;-<span class="st"> </span><span class="kw">paste</span>(LETTERS, <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>, <span class="dt">sep=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb47-26"><a href="r-programming-basics-ii.html#cb47-26"></a><span class="kw">grep</span>(<span class="st">&quot;A&quot;</span>, x)</span>
<span id="cb47-27"><a href="r-programming-basics-ii.html#cb47-27"></a>x[<span class="kw">grep</span>(<span class="st">&quot;A&quot;</span>, x)]</span>
<span id="cb47-28"><a href="r-programming-basics-ii.html#cb47-28"></a></span>
<span id="cb47-29"><a href="r-programming-basics-ii.html#cb47-29"></a><span class="kw">grepl</span>(<span class="st">&quot;A&quot;</span>, x)</span>
<span id="cb47-30"><a href="r-programming-basics-ii.html#cb47-30"></a>r &lt;-<span class="st"> </span><span class="kw">grepl</span>(<span class="st">&quot;A&quot;</span>, x)</span>
<span id="cb47-31"><a href="r-programming-basics-ii.html#cb47-31"></a><span class="cf">if</span>(r){</span>
<span id="cb47-32"><a href="r-programming-basics-ii.html#cb47-32"></a>  <span class="kw">cat</span>(<span class="st">&quot;Yes, I found A&quot;</span>)</span>
<span id="cb47-33"><a href="r-programming-basics-ii.html#cb47-33"></a>}<span class="cf">else</span>{</span>
<span id="cb47-34"><a href="r-programming-basics-ii.html#cb47-34"></a>  <span class="kw">cat</span>(<span class="st">&quot;No A&quot;</span>)</span>
<span id="cb47-35"><a href="r-programming-basics-ii.html#cb47-35"></a>}</span>
<span id="cb47-36"><a href="r-programming-basics-ii.html#cb47-36"></a></span>
<span id="cb47-37"><a href="r-programming-basics-ii.html#cb47-37"></a><span class="co">#strsplit()</span></span>
<span id="cb47-38"><a href="r-programming-basics-ii.html#cb47-38"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Factors, raw vectors, and lists, are converted&quot;</span>, <span class="st">&quot;vectors, or for, strings with&quot;</span>)</span>
<span id="cb47-39"><a href="r-programming-basics-ii.html#cb47-39"></a>y &lt;-<span class="st"> </span><span class="kw">strsplit</span>(x, <span class="dt">split=</span><span class="st">&quot;, &quot;</span>)</span>
<span id="cb47-40"><a href="r-programming-basics-ii.html#cb47-40"></a></span>
<span id="cb47-41"><a href="r-programming-basics-ii.html#cb47-41"></a><span class="co">#unlist()</span></span>
<span id="cb47-42"><a href="r-programming-basics-ii.html#cb47-42"></a><span class="kw">unlist</span>(y)</span>
<span id="cb47-43"><a href="r-programming-basics-ii.html#cb47-43"></a></span>
<span id="cb47-44"><a href="r-programming-basics-ii.html#cb47-44"></a>y &lt;-<span class="st"> </span><span class="kw">strsplit</span>(x, <span class="dt">split=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb47-45"><a href="r-programming-basics-ii.html#cb47-45"></a>ychar &lt;-<span class="st"> </span><span class="kw">unlist</span>(y)</span>
<span id="cb47-46"><a href="r-programming-basics-ii.html#cb47-46"></a>ycount &lt;-<span class="st"> </span><span class="kw">table</span>(y2)</span>
<span id="cb47-47"><a href="r-programming-basics-ii.html#cb47-47"></a>ycount_sort &lt;-<span class="st"> </span><span class="kw">sort</span>(ycount)</span>
<span id="cb47-48"><a href="r-programming-basics-ii.html#cb47-48"></a>ycount_sort &lt;-<span class="st"> </span><span class="kw">sort</span>(ycount, <span class="dt">decreasing =</span> T)</span>
<span id="cb47-49"><a href="r-programming-basics-ii.html#cb47-49"></a>ycount_top &lt;-<span class="st"> </span>ycount_sort[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>]</span>
<span id="cb47-50"><a href="r-programming-basics-ii.html#cb47-50"></a>ycount_top_char &lt;-<span class="st"> </span><span class="kw">names</span>(ycount_top)</span>
<span id="cb47-51"><a href="r-programming-basics-ii.html#cb47-51"></a></span>
<span id="cb47-52"><a href="r-programming-basics-ii.html#cb47-52"></a><span class="co">#toupper(), tolower()</span></span>
<span id="cb47-53"><a href="r-programming-basics-ii.html#cb47-53"></a><span class="kw">toupper</span>(ycount_top_char)</span></code></pre></div>
<div id="exercise-4-5" class="section level3">
<h3><span class="header-section-number">4.8.1</span> Exercise 4-5</h3>
<p>built-in 데이터셋 중 <code>state.abb</code> 은 미국의 50개 주에대한 축약어임.</p>
<ol style="list-style-type: decimal">
<li><p>이 중 문자 A 가 들어가는 주를 뽑아 x에 저장 하시오 (<code>grep</code> 또는 <code>grepl</code> 사용)</p></li>
<li><p>state.abb 중 위 x에 저장된 이름들을 빼고 y에 저장 하시오 (<code>match()</code> 또는 <code>%in%</code>사용)</p></li>
<li><p>state.abb에 사용된 알파벳의 갯수를 구하고 가장 많이 쓰인 알파벳을 구하시오 (<code>strsplit()</code>, <code>table()</code> 등 사용)</p></li>
</ol>
</div>
</div>
<div id="file-read-and-write" class="section level2">
<h2><span class="header-section-number">4.9</span> File read and write</h2>
<p>텍스트 파일의 경우 아래와 같이 csv 또는 txt 파일로 저장하여 메모장으로 열어 확인할 수 있으며 읽어올 경우 구분자 (sep 파라메터) 나 header를 (header 파라메터) 읽을지 읽지 않을지 등을 옵션으로 지정할 수 있습니다.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-programming-basics-ii.html#cb48-1"></a>x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>)</span>
<span id="cb48-2"><a href="r-programming-basics-ii.html#cb48-2"></a>y &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>)</span>
<span id="cb48-3"><a href="r-programming-basics-ii.html#cb48-3"></a>xy&lt;-<span class="kw">data.frame</span>(<span class="dt">x=</span>x, <span class="dt">y=</span>y)</span>
<span id="cb48-4"><a href="r-programming-basics-ii.html#cb48-4"></a></span>
<span id="cb48-5"><a href="r-programming-basics-ii.html#cb48-5"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>)</span>
<span id="cb48-6"><a href="r-programming-basics-ii.html#cb48-6"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F)</span>
<span id="cb48-7"><a href="r-programming-basics-ii.html#cb48-7"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F)</span>
<span id="cb48-8"><a href="r-programming-basics-ii.html#cb48-8"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.txt&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb48-9"><a href="r-programming-basics-ii.html#cb48-9"></a><span class="kw">write.table</span>(xy, <span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">quote=</span>F, <span class="dt">row.names=</span>F, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb48-10"><a href="r-programming-basics-ii.html#cb48-10"></a></span>
<span id="cb48-11"><a href="r-programming-basics-ii.html#cb48-11"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>)</span>
<span id="cb48-12"><a href="r-programming-basics-ii.html#cb48-12"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>)</span>
<span id="cb48-13"><a href="r-programming-basics-ii.html#cb48-13"></a>mydata&lt;-<span class="kw">read.table</span>(<span class="dt">file=</span><span class="st">&quot;table_write.csv&quot;</span>, <span class="dt">sep=</span><span class="st">&quot;,&quot;</span>, <span class="dt">header=</span>T)</span>
<span id="cb48-14"><a href="r-programming-basics-ii.html#cb48-14"></a><span class="kw">plot</span>(mydata<span class="op">$</span>x, mydata<span class="op">$</span>z)</span></code></pre></div>
<div id="exercise-4-6" class="section level3">
<h3><span class="header-section-number">4.9.1</span> Exercise 4-6</h3>
<p><code>iris</code> 데이터셋을 <code>iris.csv</code>에 <code>,</code>를 구분 기호로 저장하고 myiris 라는 변수로 다시 읽어 들이시오</p>
</div>
</div>
<div id="excel-file-read-and-data-plotting" class="section level2">
<h2><span class="header-section-number">4.10</span> Excel file read and data plotting</h2>
<p>엑셀파일은 readxl 이라는 R 패키지를 활용하여 읽거나 쓸 수 있습니다.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="r-programming-basics-ii.html#cb49-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;readxl&quot;</span>)</span></code></pre></div>
<p>실습 파일은 형광 세포를 배양하여 형광리더기를 이용해 얻어진 실제 데이터이며 <a href="https://github.com/greendaygh/Rprog2020/blob/master/Exp_data.xls">Exp_data.xls</a> 에서 다운로드 받을 수 있습니다. read_excel 함수를 이용하여 파일의 내용을 읽어오면 기본 자료형이 tibble 입니다. tibble은 최근 많이 쓰이는 R object로 data.frame과 유사하나 입력값의 type, name, rowname을 임으로 바꿀 수 없다는 점이 다릅니다.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-programming-basics-ii.html#cb50-1"></a><span class="kw">library</span>(readxl)</span>
<span id="cb50-2"><a href="r-programming-basics-ii.html#cb50-2"></a>mydata &lt;-<span class="st"> </span><span class="kw">read_excel</span>(<span class="st">&quot;Exp_data.xls&quot;</span>, <span class="dt">sheet=</span><span class="dv">1</span>, <span class="dt">skip =</span> <span class="dv">0</span>, <span class="dt">col_names=</span>T)</span></code></pre></div>
<p>엑셀파일에는 두 종류의 (OD600nm, fluorescence) 데이터가 저장되어 있습니다. 첫 번째 sheet에는 다음처럼 wide형 데이터가 저장되어 있습니다 (참고로 wide형 데이터는 일반적인 <code>data.frame</code> 형태의 데이터로 column은 변수, row는 샘플이 저장된 형태로 새로운 변수가 추가 되면 column 오른쪽에 붙어 wide하게 확장되는 것을 말합니다. long 형 데이터는 추후 강의에서 설명 드리겠습니다).</p>
<p><img src="images/04/excelfile01.PNG" /></p>
<p><code>str</code> 함수를 이용해서 데이터의 구조를 보면 8개의 변수가 있고 각 변수의 이름과 값의 타입 (mode of storage type) 그리고 실제 데이터들의 일부를 보여 줍니다. 이제 관심있는 변수만 뽑아서 가공을 해보겠습니다. 관심있는 변수는 594nm 으로 시작하는 OD 데이터와 EGFP로 시작하는 형광 데이터 그리고 well plate의 위치에 대한 label이 되겠습니다.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="r-programming-basics-ii.html#cb51-1"></a><span class="kw">str</span>(mydata)</span>
<span id="cb51-2"><a href="r-programming-basics-ii.html#cb51-2"></a>mydf &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">well=</span>mydata<span class="op">$</span>Well, <span class="dt">od=</span>mydata<span class="op">$</span><span class="st">`</span><span class="dt">595nm_kk (A)</span><span class="st">`</span>, <span class="dt">gfp=</span>mydata<span class="op">$</span><span class="st">`</span><span class="dt">EGFP_sulim (Counts)</span><span class="st">`</span>)</span>
<span id="cb51-3"><a href="r-programming-basics-ii.html#cb51-3"></a><span class="kw">head</span>(mydf)</span></code></pre></div>
<p>아래 그림은 96 well plate의 각 well 마다 해당되는 위치와 label 값을 보여줍니다. 간단히 데이터를 설명하면 각 컬럼은 다른 종류의 cell 이고 row에 특정 화학물질의 농도별 측정 값을 나타냅니다. (1, 2), (3, 4), (5, 6), (7, 8), (9, 10), (11, 12) 각 pair는 같은 세포이고 반복 측정을 나타냅니다. 즉, 1과 2는 같은 종류의 세포이지만 반복을 2회 수행 한 것 입니다.</p>
<p><img src="images/04/excelfile02.PNG" /></p>
<p>보통 데이터가 주어져 있을 때 가장 먼저 하는 일은 눈으로 직접 데이터 값을 보는 것 입니다. excel 파일을 열었을 경우 위 그림과 같은 형태의 값을 보고 대략적으로 세포별로 농도별로 값이 다르게 측정된 것을 확인합니다. 데이터 분석에서 그 다음 하는 일은 그래프 등을 통해서 raw데이터의 요약된 정보를 한 눈에 확인하는 작업 입니다. 이 후 데이터를 가공하거나 분석을 통해서 원하는 정보를 뽑아냅니다. 지금은 간단히 raw 데이터를 눈으로 확인하는 작업을 해 보겠습니다. 위 그림의 데이터를 그래프로 그릴 경우 가장 쉽게 생각할 수 있는 그림은 세포별 농도를 막대그래프로 그려보는 것 입니다.</p>
<p>가장 쉽게 1번 세포의 첫 번째 반복에 대해서 농도 B부터 G까지를 그리기 위해 해당하는 값을 뽑아서 데이터 세트를 만들어 봅니다. 먼저 well 이름을 이용해서 해당 값을 추출합니다.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-programming-basics-ii.html#cb52-1"></a>mydf<span class="op">$</span>well</span>
<span id="cb52-2"><a href="r-programming-basics-ii.html#cb52-2"></a><span class="kw">class</span>(mydf<span class="op">$</span>well)</span>
<span id="cb52-3"><a href="r-programming-basics-ii.html#cb52-3"></a>well_labels &lt;-<span class="st"> </span><span class="kw">as.character</span>(mydf<span class="op">$</span>well)</span>
<span id="cb52-4"><a href="r-programming-basics-ii.html#cb52-4"></a><span class="kw">strsplit</span>(well_labels, <span class="dt">split=</span><span class="st">&quot;&quot;</span>)</span>
<span id="cb52-5"><a href="r-programming-basics-ii.html#cb52-5"></a>well_concentration &lt;-<span class="st"> </span><span class="kw">substr</span>(well_labels, <span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb52-6"><a href="r-programming-basics-ii.html#cb52-6"></a>cell_number &lt;-<span class="st"> </span><span class="kw">substr</span>(well_labels, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb52-7"><a href="r-programming-basics-ii.html#cb52-7"></a>mydf2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(well_concentration, cell_number, mydf<span class="op">$</span>od, mydf<span class="op">$</span>gfp)</span>
<span id="cb52-8"><a href="r-programming-basics-ii.html#cb52-8"></a><span class="kw">str</span>(mydf2)</span>
<span id="cb52-9"><a href="r-programming-basics-ii.html#cb52-9"></a>mydf2 &lt;-<span class="st"> </span><span class="kw">data.frame</span>(well_concentration, cell_number, mydf<span class="op">$</span>od, mydf<span class="op">$</span>gfp, <span class="dt">stringsAsFactors =</span> F)</span>
<span id="cb52-10"><a href="r-programming-basics-ii.html#cb52-10"></a><span class="kw">str</span>(mydf2)</span>
<span id="cb52-11"><a href="r-programming-basics-ii.html#cb52-11"></a></span>
<span id="cb52-12"><a href="r-programming-basics-ii.html#cb52-12"></a>mydf2<span class="op">$</span>cell_number<span class="op">==</span><span class="st">&quot;01&quot;</span></span>
<span id="cb52-13"><a href="r-programming-basics-ii.html#cb52-13"></a>idx &lt;-<span class="st"> </span>mydf2<span class="op">$</span>cell_number<span class="op">==</span><span class="st">&quot;01&quot;</span></span>
<span id="cb52-14"><a href="r-programming-basics-ii.html#cb52-14"></a>mydf2_<span class="dv">01</span> &lt;-<span class="st"> </span>mydf2[idx,]</span>
<span id="cb52-15"><a href="r-programming-basics-ii.html#cb52-15"></a>mydf2_<span class="dv">01</span><span class="op">$</span>mydf.gfp</span>
<span id="cb52-16"><a href="r-programming-basics-ii.html#cb52-16"></a></span>
<span id="cb52-17"><a href="r-programming-basics-ii.html#cb52-17"></a><span class="kw">plot</span>(mydf2_<span class="dv">01</span><span class="op">$</span>mydf.gfp)</span>
<span id="cb52-18"><a href="r-programming-basics-ii.html#cb52-18"></a><span class="kw">barplot</span>(mydf2_<span class="dv">01</span><span class="op">$</span>mydf.gfp)</span>
<span id="cb52-19"><a href="r-programming-basics-ii.html#cb52-19"></a><span class="kw">barplot</span>(mydf2_<span class="dv">01</span><span class="op">$</span>mydf.gfp, <span class="dt">names.arg =</span> mydf2_<span class="dv">01</span><span class="op">$</span>well_concentration)</span></code></pre></div>
<p>그런데 위 데이터는 반복이 있는 데이터 입니다. 즉 반복 측정 값의 평균과 표준편차를 구해서 에러바와 같이 그려 주는 것이 보통 입니다. 1, 2 샘플에 대해서 농도별 평균과 표준편차를 구해봅니다. <code>mydf2</code>에서 1, 2 샘플만을 뽑고 작업을 시작 합니다.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="r-programming-basics-ii.html#cb53-1"></a>seli1 &lt;-<span class="st"> </span><span class="kw">which</span>(mydf2<span class="op">$</span>cell_number<span class="op">==</span><span class="st">&quot;01&quot;</span>)</span>
<span id="cb53-2"><a href="r-programming-basics-ii.html#cb53-2"></a>sample1 &lt;-<span class="st"> </span>mydf2[seli1,]</span>
<span id="cb53-3"><a href="r-programming-basics-ii.html#cb53-3"></a>seli2 &lt;-<span class="st"> </span><span class="kw">which</span>(mydf2<span class="op">$</span>cell_number<span class="op">==</span><span class="st">&quot;02&quot;</span>)</span>
<span id="cb53-4"><a href="r-programming-basics-ii.html#cb53-4"></a>sample2 &lt;-<span class="st"> </span>mydf2[seli2,]</span>
<span id="cb53-5"><a href="r-programming-basics-ii.html#cb53-5"></a></span>
<span id="cb53-6"><a href="r-programming-basics-ii.html#cb53-6"></a>sample_means &lt;-<span class="st"> </span>(sample1<span class="op">$</span>mydf.gfp <span class="op">+</span><span class="st"> </span>sample2<span class="op">$</span>mydf.gfp)<span class="op">/</span><span class="dv">2</span></span>
<span id="cb53-7"><a href="r-programming-basics-ii.html#cb53-7"></a>sample_std &lt;-<span class="st"> </span><span class="kw">sqrt</span>(((sample1<span class="op">$</span>mydf.gfp<span class="op">-</span>sample_means)<span class="op">^</span><span class="dv">2</span><span class="op">+</span>(sample2<span class="op">$</span>mydf.gfp<span class="op">-</span>sample_means)<span class="op">^</span><span class="dv">2</span>)<span class="op">/</span>(<span class="dv">2-1</span>))</span>
<span id="cb53-8"><a href="r-programming-basics-ii.html#cb53-8"></a><span class="kw">sd</span>(<span class="kw">c</span>(sample1<span class="op">$</span>mydf.gfp[<span class="dv">1</span>], sample2<span class="op">$</span>mydf.gfp[<span class="dv">1</span>]))</span>
<span id="cb53-9"><a href="r-programming-basics-ii.html#cb53-9"></a>sample1df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">conc=</span>sample1<span class="op">$</span>well_concentration, sample_means, sample_std)</span>
<span id="cb53-10"><a href="r-programming-basics-ii.html#cb53-10"></a>sample1df</span></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-programming-basics-ii.html#cb54-1"></a><span class="kw">barplot</span>(sample1df<span class="op">$</span>sample_means, <span class="dt">names.arg=</span>sample1df<span class="op">$</span>conc, <span class="dt">ylim=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">80000</span>))</span>
<span id="cb54-2"><a href="r-programming-basics-ii.html#cb54-2"></a><span class="kw">arrows</span>(<span class="fl">0.7</span>, sample_means[<span class="dv">1</span>], <span class="fl">0.7</span>, sample_means[<span class="dv">1</span>]<span class="op">+</span>sample_std[<span class="dv">1</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb54-3"><a href="r-programming-basics-ii.html#cb54-3"></a><span class="kw">arrows</span>(<span class="fl">0.7</span>, sample_means[<span class="dv">1</span>], <span class="fl">0.7</span>, sample_means[<span class="dv">1</span>]<span class="op">-</span>sample_std[<span class="dv">1</span>], <span class="dt">length=</span><span class="fl">0.1</span>, <span class="dt">angle=</span><span class="dv">90</span>)</span>
<span id="cb54-4"><a href="r-programming-basics-ii.html#cb54-4"></a>lab &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;SD:&quot;</span>, <span class="kw">round</span>(sample_means[<span class="dv">1</span>]<span class="op">+</span>sample_std[<span class="dv">1</span>],<span class="dv">1</span>))</span>
<span id="cb54-5"><a href="r-programming-basics-ii.html#cb54-5"></a><span class="kw">text</span>(<span class="fl">0.5</span>, sample_means[<span class="dv">1</span>]<span class="op">+</span>sample_std[<span class="dv">1</span>]<span class="op">*</span><span class="dv">2</span>, <span class="dt">labels =</span> lab)</span></code></pre></div>
<div id="exercise-4-7-barplot-with-error-bars" class="section level3">
<h3><span class="header-section-number">4.10.1</span> Exercise 4-7 barplot with error bars</h3>
<p>앞서 그려본 막대그래프의 B, C, D, E, F, G 모두에 에러바를 넣으시오 (for 문 사용)</p>
<hr />
<p>지금까지는 첫 번째 컬럼과 두 번째 컬럼의 데이터만을 읽어와서 그래프를 그려 보았습니다. 그러나 위 코드와 같은 방식으로 모든 데이터를 읽어오는 것은 비효율적입니다. 다음 강좌에서는 이러한 데이터를 좀 더 효율적으로 가공하는 방법과 R에서 제공하는 기본 그래프 함수에 대한 내용을 소개하도록 하겠습니다.</p>
<hr />
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="크리에이티브 커먼즈 라이선스" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png" /></a><br />이 저작물은 <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">크리에이티브 커먼즈 저작자표시-비영리-변경금지 4.0 국제 라이선스</a>에 따라 이용할 수 있습니다.</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-programming-basics-i.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-graphics-basics.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
